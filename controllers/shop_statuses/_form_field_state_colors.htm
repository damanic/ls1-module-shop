<?
$listId  = $form_model_class . '_' . $form_field->dbName . '_list';
$fieldId = $form_model_class . '_' . $form_field->dbName;
?>
<ul id="<?= $listId ?>">
	<?
	$selectedColor = $form_model->displayField( $form_field->dbName );
	$count = 1;
	foreach ( Shop_OrderStatus::$colors as $index => $color ):
		?>
		<li class="color <?= $color == $selectedColor ? 'selected' : null ?>">
			<span style="background-color: <?= $color ?>"><?= $color ?></span>
		</li>
		<?= $count && !( $count % 10 ) ? '<li class="break"></li>' : null ?>

	<?$count++; endforeach ?>
</ul>

<input value="<?= $selectedColor ?>" type="hidden" id="<?= $fieldId ?>"
	   name="<?= $form_model_class ?>[<?= $form_field->dbName ?>]"/>

<script type="text/javascript">
	window.addEvent('domready', function () {
		new ColorPicker('<?= $listId ?>', '<?= $fieldId ?>')
	})
</script>
